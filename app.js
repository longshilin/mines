!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},i={},n={},r={}.hasOwnProperty,s=/^\.\.?(\/|$)/,a=function(t,e){for(var i,n=[],r=(s.test(e)?t+"/"+e:e).split("/"),a=0,o=r.length;a<o;a++)i=r[a],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(i){var n=a(o(e),i);return t.require(n,e)}},l=function(t,e){var n=g&&g.createHot(t),r={id:t,exports:{},hot:n};return i[t]=r,e(r.exports,u(t),r),r.exports},c=function(t){return n[t]?c(n[t]):t},h=function(t,e){return c(a(o(t),e))},d=function(t,n){null==n&&(n="/");var s=c(t);if(r.call(i,s))return i[s].exports;if(r.call(e,s))return l(s,e[s]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};d.alias=function(t,e){n[e]=t};var f=/\.[^.\/]+$/,m=/\/index(\.[^\/]+)?$/,v=function(t){if(f.test(t)){var e=t.replace(f,"");r.call(n,e)&&n[e].replace(f,"")!==e+"/index"||(n[e]=t)}if(m.test(t)){var i=t.replace(m,"");r.call(n,i)||(n[i]=t)}};d.register=d.define=function(t,n){if(t&&"object"==typeof t)for(var s in t)r.call(t,s)&&d.register(s,t[s]);else e[t]=n,delete i[t],v(t)},d.list=function(){var t=[];for(var i in e)r.call(e,i)&&t.push(i);return t};var g=t._hmr&&new t._hmr(h,d,e,i);d._cache=i,d.hmr=g&&g.wrap,d.brunch=!0,t.require=d}}(),function(){"undefined"==typeof window?this:window;require.register("common.js",function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GridStateEnum=Object.freeze({Question:-3,Unknown:-2,Flag:-1,N0:0,N1:1,N2:2,N3:3,N4:4,N5:5,N6:6,N7:7,N8:8,MineRevealed:64,MineClicked:65,WrongFlag:66})}),require.register("engine.js",function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.GameState=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=e("../lib/emitter"),l=n(u),c=e("common"),h=e("generator");t.GameState=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:99,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e);var o=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));o.w=i,o.h=t,o.n=n,o.seed=a,o.dead=!1,o.won=!1,o.mines=null,o.grid=[];for(var u=0;u<t;u++)for(var l=0;l<i;l++)o.grid[u*i+l]=-2;return o}return a(e,t),o(e,[{key:"open",value:function(t,e){var i=this.w,n=this.h;if(!(0<=t&&t<i&&0<=e&&e<n))throw new Error("coordinate(s) out of range");if(null==this.mines&&(this.mines=h.ClassicGenerator.generate(n,i,this.n,t,e,this.seed),this.emit("start")),this.mines[e*i+t])return this.dead=!0,this.grid[e*i+t]=c.GridStateEnum.MineClicked,this.emit("end",!1),!1;var r=[];r.push({x:t,y:e});for(var s=0;s<r.length;s++){var a=r[s],o=a.x,u=a.y;if(this.mines[u*i+o])throw new Error("tried to auto-clear a mine");for(var l=0,d=-1;d<=1;d++)for(var f=-1;f<=1;f++)o+d>=0&&o+d<i&&u+f>=0&&u+f<n&&this.mines[(u+f)*i+(o+d)]&&l++;if(this.grid[u*i+o]=l,0===l)for(var m=-1;m<=1;m++)for(var v=-1;v<=1;v++)o+m>=0&&o+m<i&&u+v>=0&&u+v<n&&this.grid[(u+v)*i+(o+m)]===c.GridStateEnum.Unknown&&r.push({x:o+m,y:u+v})}for(var g=0,_=0,u=0;u<n;u++)for(var o=0;o<i;o++)this.grid[u*i+o]<0&&_++,this.mines[u*i+o]&&g++;if(_<g)throw new Error("uncovered a mine without losing?");if(_===g){for(var p=0;p<n;p++)for(var y=0;y<i;y++)this.grid[p*i+y]<0&&(this.grid[p*i+y]=c.GridStateEnum.Flag);return this.won=!0,this.emit("end",!0),!1}return!0}}]),e}(l["default"])}),require.register("gameui.js",function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GameWindow=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=e("common"),a=e("./engine");t.GameWindow=function(){function t(e,i,r){var s=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n(this,t),this.init(e,i,r,a),e.addEventListener("mousedown",this.onmousedown.bind(this)),e.addEventListener("mouseup",this.onmouseup.bind(this)),e.addEventListener("mousemove",this.onmousemove.bind(this)),e.addEventListener("mouseleave",function(){s._x_last=null,s._y_last=null,s.redraw_anim()}),e.addEventListener("contextmenu",function(t){return t.preventDefault()}),document.addEventListener("keypress",this.onkeypress.bind(this)),r[1].addEventListener("click",function(){return s.reset()})}return r(t,[{key:"init",value:function(t,e,i){var n=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];for(this.root=t||this.root,this.state=e||this.state,this.active=r,this._grid=[],this.state.on("start",this.onstart.bind(this)),this.state.on("end",this.onend.bind(this));this.root.firstChild;)this.root.removeChild(this.root.firstChild);for(var s=0;s<e.h;s++){var a=document.createElement("div");a.className="row";for(var o=0;o<e.w;o++){var u=document.createElement("div");u.className="tile closed",u.dataset.coord=""+o+"x"+s,this._grid[s*e.w+o]=u,a.appendChild(u)}this.root.appendChild(a)}this.indicator_flags=i?i[0]:this.indicator_flags,this.indicator_flags.classList.add("indicator","counter"),this._flags_remain=null,this.indicator_yellow=i?i[1]:this.indicator_yellow,this.indicator_yellow.classList.add("indicator","yellow","happy"),this.indicator_clock=i?i[2]:this.indicator_clock,this.indicator_clock.classList.add("indicator","counter"),this.time_start=null,this.time_stop=null,this._chord_last=null,this._x_last=null,this._y_last=null,this._draw_queue=[],this._anim_queue=[],requestAnimationFrame(function(){n.indicator_flags.textContent="!!!",n.indicator_clock.textContent="!!!"})}},{key:"reset",value:function(){this.init(null,new a.GameState(this.state.h,this.state.w,this.state.n),null)}},{key:"destroy",value:function(){this.root=null,this.state=null,this._grid=null,this.time_start=null}},{key:"onstart",value:function(){var t=this;this.time_start=Date.now(),this._flags_remain=this.state.n,requestAnimationFrame(function(){return t.tick()})}},{key:"onend",value:function(t){var e=this;if(this.time_stop=Date.now(),t)for(var i=0;i<this.state.h*this.state.w;i++)this.state.mines[i]&&this.state.grid[i]===s.GridStateEnum.Unknown&&(this.state.grid[i]=s.GridStateEnum.Flag);else for(var n=0;n<this.state.h*this.state.w;n++)this.state.mines[n]?this.state.grid[n]===s.GridStateEnum.Unknown&&(this.state.grid[n]=s.GridStateEnum.MineRevealed):this.state.grid[n]===s.GridStateEnum.Flag&&(this.state.grid[n]=s.GridStateEnum.WrongFlag);requestAnimationFrame(function(){e.indicator_yellow.classList.remove("surprise","happy"),e.indicator_yellow.classList.add(t?"cool":"dead"),e.redraw_full()})}},{key:"onmousedown",value:function(t){var e=this;if(this.active&&t.target.className.indexOf("tile")!==-1&&!this.state.won&&!this.state.dead){var i=t.target.dataset.coord.split("x"),n=parseInt(i[0],10),r=parseInt(i[1],10);2===t.button&&2===t.buttons||0===t.button&&t.ctrlKey?this._flag(n,r):0===t.button&&1===t.buttons?requestAnimationFrame(function(){e.state.grid[r*e.state.w+n]===s.GridStateEnum.Unknown&&(e._grid[r*e.state.w+n].className="tile open",e._anim_queue.push(r*e.state.w+n)),e.indicator_yellow.classList.replace("happy","surprise")}):(2===t.button&&1&t.buttons||0===t.button&&2&t.buttons)&&(this._chord_last=null,requestAnimationFrame(function(){for(var t=e.state.w,i=e.state.h,a=-1;a<=1;a++)for(var o=-1;o<=1;o++)n+a>=0&&n+a<t&&r+o>=0&&r+o<i&&e.state.grid[(r+o)*t+(n+a)]===s.GridStateEnum.Unknown&&(e._grid[(r+o)*t+(n+a)].className="tile open",e._anim_queue.push((r+o)*t+(n+a)))})),t.preventDefault()}}},{key:"onmouseup",value:function(t){var e=this;if(this.active&&t.target.className.indexOf("tile")!==-1&&!this.state.won&&!this.state.dead){var i=t.target.dataset.coord.split("x"),n=parseInt(i[0],10),r=parseInt(i[1],10);r*this.state.w+n;0===t.button&&2&t.buttons||2===t.button&&1&t.buttons||1===t.button?(this._chord(n,r),this.state.won||this.state.dead||requestAnimationFrame(function(){e.indicator_yellow.classList.remove("surprise","dead","cool"),e.indicator_yellow.classList.add("happy"),e.redraw_anim()})):0!==t.button||t.ctrlKey||this._chord_last||this._open(n,r)&&requestAnimationFrame(function(){e.indicator_yellow.classList.remove("surprise","dead","cool"),e.indicator_yellow.classList.add("happy"),e.redraw_anim()}),1&t.buttons&&2===t.button?this._chord_last=!0:this._chord_last=null,t.preventDefault()}}},{key:"onmousemove",value:function(t){var e=this;if(this.active&&t.path[0].className.indexOf("tile")!==-1&&!this.state.won&&!this.state.dead){var i=t.path[0].dataset.coord.split("x"),n=parseInt(i[0],10),r=parseInt(i[1],10);this._x_last===n&&this._y_last===r||(this._x_last=n,this._y_last=r,0===t.buttons||this._chord_last||requestAnimationFrame(function(){var i=e.state.w,a=e.state.h;if(e.redraw_anim(),3===(3&t.buttons))for(var o=-1;o<=1;o++)for(var u=-1;u<=1;u++)n+o>=0&&n+o<i&&r+u>=0&&r+u<a&&e.state.grid[(r+u)*i+(n+o)]===s.GridStateEnum.Unknown&&(e._grid[(r+u)*i+(n+o)].className="tile open",e._anim_queue.push((r+u)*i+(n+o)));else 1&t.buttons&&e.state.grid[r*i+n]===s.GridStateEnum.Unknown&&(e._grid[r*i+n].className="tile open",e._anim_queue.push(r*i+n))}))}}},{key:"onkeypress",value:function(t){if(this.active&&!this.state.won&&!this.state.dead&&"Space"===t.code&&null!=this._x_last&&null!=this._y_last){var e=this._y_last*this.state.w+this._x_last;this.state.grid[e]===s.GridStateEnum.Unknown||this.state.grid[e]===s.GridStateEnum.Flag?this._flag(this._x_last,this._y_last):1<=this.state.grid[e]&&this.state.grid[e]<=8&&this._chord(this._x_last,this._y_last),t.preventDefault()}}},{key:"redraw_full",value:function(){for(var t=0;t<this.state.h;t++)for(var e=0;e<this.state.w;e++)this.redraw(t*this.state.w+e)}},{key:"redraw_anim",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this._anim_queue[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;this.redraw(s)}}catch(a){e=!0,i=a}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}}},{key:"redraw",value:function(t){switch(this.state.grid[t]){case s.GridStateEnum.Unknown:this._grid[t].className="tile closed";break;case s.GridStateEnum.Flag:this._grid[t].className="tile closed flag";break;case s.GridStateEnum.MineRevealed:this._grid[t].className="tile closed mine";break;case s.GridStateEnum.MineClicked:this._grid[t].className="tile open red mine";break;case s.GridStateEnum.WrongFlag:this._grid[t].className="tile closed nomine";break;default:this._grid[t].className="tile open n"+this.state.grid[t]}}},{key:"tick",value:function(){var t=this,e=(this.time_stop||Date.now())-this.time_start;this.indicator_clock.textContent=(""+(~~(e/1e3)+1)).padStart(3,"0"),null!=this.time_stop&&this.indicator_clock.setAttribute("title",~~(e/6e4)+":"+e/1e3%60),this.indicator_flags.textContent=(""+this._flags_remain).padStart(3,"0");var i=!0,n=!1,r=void 0;try{for(var s,a=this._draw_queue[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var o=s.value;this.redraw(o)}}catch(u){n=!0,r=u}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}null==this.time_stop&&null!=this.time_start&&requestAnimationFrame(function(){return t.tick()})}},{key:"_open",value:function(t,e){var i=this;if(this.state.grid[e*this.state.w+t]===s.GridStateEnum.Unknown){var n=this.state.open(t,e);return requestAnimationFrame(function(){return i.redraw_full()}),n}return!0}},{key:"_flag",value:function(t,e){var i=e*this.state.w+t;null!=this.time_start&&(this.state.grid[i]===s.GridStateEnum.Unknown?(this.state.grid[i]=s.GridStateEnum.Flag,this._draw_queue.push(i),this._flags_remain-=1):this.state.grid[i]===s.GridStateEnum.Flag&&(this.state.grid[i]=s.GridStateEnum.Unknown,this._draw_queue.push(i),this._flags_remain+=1))}},{key:"_chord",value:function(t,e){var i=this,n=this.state.w,r=this.state.h,a=e*n+t;if(null!=this.time_start&&1<=this.state.grid[a]&&this.state.grid[a]<=8){for(var o=0,u=-1;u<=1;u++)for(var l=-1;l<=1;l++)t+u>=0&&t+u<n&&e+l>=0&&e+l<r&&this.state.grid[(e+l)*n+(t+u)]===s.GridStateEnum.Flag&&o++;if(o===this.state.grid[a])for(var c=-1;c<=1;c++)for(var h=-1;h<=1;h++)t+c>=0&&t+c<n&&e+h>=0&&e+h<r&&this.state.grid[(e+h)*n+(t+c)]===s.GridStateEnum.Unknown&&this.state.open(t+c,e+h);requestAnimationFrame(function(){return i.redraw_full()})}}}]),t}()}),require.register("generator.js",function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=[],n=0;n<e;n++)i[n]=t;return i}Object.defineProperty(t,"__esModule",{value:!0}),t.FairGenerator=t.ClassicGenerator=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function v(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:v(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=e("../lib/xor4096"),d=n(h),f=e("solver"),m=t.ClassicGenerator=function(){function t(){a(this,t)}return c(t,null,[{key:"generate",value:function(t,e,i,n,r,s){if(i>e*t-9)throw new Error("too many mines for grid size");for(var a=o(0,e*t),u=null==s||null==s.uint32_range?(0,d["default"])(s):s,l=o(0,e*t),c=0,h=0;h<t;h++)for(var f=0;f<e;f++)(Math.abs(h-r)>1||Math.abs(f-n)>1)&&(l[c++]=h*e+f);for(var m=i;m-- >0;){var v=u.uint32_range(c);a[l[v]]=1,l[v]=l[--c]}return a}}]),t}();t.FairGenerator=function(t){function e(){return a(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),c(e,null,[{key:"generate",value:function(t,i,n,r,s,a){if(i<=2||t<=2)throw new Error("grid dimensions must be at least 3x3");var c="object"!==("undefined"==typeof a?"undefined":u(a))?(0,d["default"])(a):a,h=void 0,m=void 0,v=0;do{m=!1,v++,h=l(e.__proto__||Object.getPrototypeOf(e),"generate",this).call(this,t,i,n,r,s,c);for(var g=new f.Solver(h,i,t,n,r,s,c,v>100),_=void 0,p=-2;;){if(g.state=o(-2,i*t),g.state[s*i+r]=g.open(r,s),0!==g.state[s*i+r])throw new Error("Generation broken, first square not empty");if(_=g.solve(),_<0||p>=0&&_>=p){m=!1;break}if(0===_){m=!0;break}}}while(!m);return h}}]),e}(m)}),require.register("main.js",function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=e("../lib/dragable"),o=n(a),u=e("engine"),l=e("gameui"),c={beg:{h:9,w:9,n:10},"int":{h:16,w:16,n:40},exp:{h:16,w:30,n:99},ext:{h:24,w:30,n:199}},h=function(){function t(e,i,n){r(this,t),this.root=e,this.cb=i,this.v=n,document.getElementById("settings").addEventListener("click",this.click.bind(this)),document.getElementById("settings-container").addEventListener("change",this.change.bind(this)),this.update(n)}return s(t,[{key:"click",value:function(t){if("mode"===t.target.name)this.v.mode=t.target.value;else if("difficulty"===t.target.name)this.v.difficulty=t.target.value,"cus"!==t.target.value&&(Object.assign(this.v,c[t.target.value]),document.getElementById("sinput-h").value=this.v.h,document.getElementById("sinput-w").value=this.v.w,document.getElementById("sinput-n").value=this.v.n);else switch(t.target.id){case"sinput-ok":this.cb(this.v);case"sinput-cancel":this.close()}}},{key:"change",value:function(t){if("number"===t.target.type)switch(this.v.difficulty="cus",document.getElementById("sradio-cus").checked=!0,t.target.name){case"h":this.v.h=parseInt(t.target.value,10);break;case"w":this.v.w=parseInt(t.target.value,10);break;case"n":this.v.n=parseInt(t.target.value,10)}}},{key:"open",value:function(t){null!=t&&this.update(t),this.root.style.visibility="visible"}},{key:"close",value:function(){this.root.style.visibility="collapse"}},{key:"update",value:function(){document.getElementById("sradio-"+this.v.mode).checked=!0,document.getElementById("sradio-"+this.v.difficulty).checked=!0,document.getElementById("sinput-h").value=this.v.h,document.getElementById("sinput-w").value=this.v.w,document.getElementById("sinput-n").value=this.v.n}}]),t}(),d=t.Manager=function(){function t(){var e=this;r(this,t),this.wmain=document.getElementById("main-game"),this.wroom=document.getElementById("w-room"),this.room_state={admin:!0},this.settings={mode:"solo",difficulty:"exp",h:16,w:30,n:99},this.wsettings=new h(document.getElementById("settings"),this.settings_set.bind(this),this.settings),this.bsettings=document.getElementById("settings-button"),this.bsettings.addEventListener("click",function(){e.room_state.admin&&e.wsettings.open(e.settings)}),this.label_set(),this.main=new l.GameWindow(this.wmain.querySelector(".minefield"),new u.GameState(this.settings.h,this.settings.w,this.settings.n),this.wmain.getElementsByClassName("indicator"));var i=!0,n=!1,s=void 0;try{for(var a,c=document.querySelectorAll("main > .window")[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var d=a.value;(0,o["default"])(d.querySelector(".titlebar"),d)}}catch(f){n=!0,s=f}finally{try{!i&&c["return"]&&c["return"]()}finally{if(n)throw s}}var m=this.wmain.querySelector(".minefield-wrapper"),v=this.wmain.querySelector(".minefield");addResizeListener(m,function(t){var e=Math.max(Math.min(m.offsetWidth/v.scrollWidth,m.offsetHeight/v.scrollHeight),1);v.style.transform="translate(-50%, -50%) scale("+e+")"});var g=Math.min(m.offsetWidth/v.scrollWidth,m.offsetHeight/v.scrollHeight);v.style.transform="translate(-50%, -50%) scale("+g+")"}return s(t,[{key:"label_set",value:function(){var t=this.settings.h+"x"+this.settings.w+", "+this.settings.n;switch(this.settings.mode){case"solo":switch(this.settings.difficulty){case"beg":t="Beginner ("+t+")";break;case"int":t="Intermediate ("+t+")";break;case"exp":t="Expert ("+t+")";break;case"ext":t="Extreme ("+t+")"}}requestAnimationFrame(function(){document.getElementById("room-label").textContent=t})}},{key:"settings_set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e||this.room_state.admin)&&(Object.assign(this.settings,t),this.main.init(null,new u.GameState(this.settings.h,this.settings.w,this.settings.n),null,this.main.active)),this.label_set()}}]),t}();window.manager=new d}),require.register("solver.js",function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i,r,s,a,o,u,l){n(this,t),this.grid=e,this.w=i,this.h=r,this.n=s,this.state=[],this.sx=a,this.sy=o,this.rng=u,this.allow_big_perturbs=l}return r(t,[{key:"open",value:function(t,e){if(!(t>=0&&t<this.w&&e>=0&&e<this.h))throw new Error("coordinates out of range");if(this.grid[e*this.w+t])return-1;for(var i=0,n=-1;n<=1;n++)if(!(t+n<0||t+n>=this.w))for(var r=-1;r<=1;r++)e+r<0||e+r>=this.h||0===n&&0===r||this.grid[(e+r)*this.w+(t+n)]&&i++;return i}},{key:"solve",value:function(){return 0}}]),t}();t.Solver=s}),require.register("___globals___",function(t,e,i){})}(),require("___globals___");