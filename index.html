<!doctype html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>mines.rsid.gq</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="app.css">
    </head>
    <body>
        <!--<header id="header">
            <div id="menu" class="header-blk">
                <header>menu</header>
                <!--<nav id="menu-content">
                    <section>
                        <header>Singleplayer</header>
                        <div>
                            <a>Beginner</a>
                            <a>Intermediate</a>
                            <a>Expert</a>
                            <a>Custom...</a>
                        </div>
                    </section>
                    <section>
                        <header>Multiplayer</header>
                        <div>
                            <a>Co-op...</a>
                            <a>Race...</a>
                            <a>Attack...</a>
                        </div>
                    </section>
                    <a class="menu-settings">âš™</a>
                </nav>
            </div>
        </header>-->
        <main id="main">
            <div class="window">
                <div class="titlebar"><img src="yellow_happy.svg">&nbsp;Minesweeper</div>
                <div class="toolbar">
                    <div class="indicator counter">!!!</div>
                    <div class="indicator yellow happy"><i></i></div>
                    <div class="indicator counter">!!!</div>
                </div>
                <div class="minefield-wrapper">
                    <div class="minefield"></div>
                </div>
            </div>
        </main>

        <script src="vendor.js"></script>
        <script src="lib.js"></script>
        <script src="app.js"></script>
        <script>
            require('main')

            const drag = require('lib/dragable').default
            drag(document.getElementsByClassName('titlebar')[0],
                document.getElementsByClassName('window')[0])

            const mf = document.getElementsByClassName('minefield')[0]
            const mfw = document.getElementsByClassName('minefield-wrapper')[0]
            addResizeListener(mfw, function (e) {
                scale = Math.max(Math.min(mfw.offsetWidth / mf.scrollWidth, mfw.offsetHeight / mf.scrollHeight), 1)
                mf.style.transform = "translate(-50%, -50%) scale(" + scale + ")"
            })
            scale = Math.min(mfw.offsetWidth / mf.scrollWidth, mfw.offsetHeight / mf.scrollHeight)
            mf.style.transform = "translate(-50%, -50%) scale(" + scale + ")"
        </script>
    </body>
</html>
